\documentclass[10pt]{book} 
\usepackage[papersize={7.44in,9.69in},outer=1.75in,inner=0.5in,vmargin={1.5cm,1.5cm}, nofoot, bindingoffset=0.25in,headsep=0.15in]{geometry}
\input{preamble.tex}
\usepackage{multind}
\makeindex{general}
\makeindex{people}
\usepackage{wrapfig}

%\makeindex

\usepackage[
   active,
   header=false,
   handles=false,
   copydocumentclass=false,
   generate=exercises-generated,
   %extract-cmdline=label,
   extract-cmd=label,
   extract-env={exercise},
   extract-cmd=chapter,
]{extract}

\begin{document}
\input{style.sty}
\input{python.sty}


\frontmatter

\thispagestyle{empty}

%\begin{comment}
\title{Introduction to Computing\\\ \\
       \sl \large{Explorations in Language, Logic, and Machines}}

\author{David Evans \\ University of Virginia}

%\pagecolor{yellow}

\begin{titlepage}

\includegraphics[width=6.44in]{cover/innercover.pdf}

%\vspace*{3cm}
%
%\begin{flushright}
%{\Huge Introduction to Computing} \\
%%\vspace*{1cm}
%{\Large{Explorations in Language, Logic, and Machines}}\\
%\vspace*{3.5ex}
%{\Large{Spring 2010}}
%\vspace*{6cm} 
%\end{flushright}
%
%{\Large David Evans} \\ 
%{\em \large University of Virginia}
%\vspace*{2.0cm} 

\clearpage
\pagestyle{empty}
\vspace*{5cm}

For the latest version of this book and supplementary materials, visit: 
\begin{center}
{\large \url{http://computingbook.org}}
\end{center}

\vspace*{7.5cm}
\begin{center}
{\small Version: \today}
\vspace*{2.5cm}
\end{center}
\begin{center}
\includegraphics[width=1.7in]{cover/cc-logo-large.png} \\
%Creative Commons \\
Attribution-Noncommercial-Share Alike 3.0 United States License
\end{center}


\end{titlepage}

\setcounter{tocdepth}{3}
\cftpagenumbersoff{part}
\renewcommand{\cftpartpresnum}{\large\bfseries \partname\ }
\renewcommand{\cftpartaftersnum}{:}
\cftsetindents{part}{0em}{0em}

\cleardoublepage
\pagestyle{plain}
\tableofcontents

%\clearpage


\renewcommand{\cftloftitlefont}{\large\bfseries}
%\renewcommand{\cftexplorationtitlefont}{\large\bfseries}
\setlength{\cftafterloftitleskip}{0pt}
\setlength{\cftfigindent}{0cm}
\setlength{\cftexplorationindent}{0cm}

\listofexploration
\listoffigures
%%\listofexample
\clearpage
\vspace*{3.5in}

{\bf Image Credits}

Most of the images in the book, including the tiles on the cover, were generated by the author.  

Some of the tile images on the cover are from flickr creative commons licenses images from: 
ell brown,
Johnson Cameraface,
cogdogblog,
Cyberslayer,
dme\-al\-if\-fe,
Dunechaser,
MichaelFitz, 
Wolfie Fox,  
glingl,
jurvetson,
KayVee.INC, 
michaeldbeavers,
and Oneras.

The Van Gogh \emph{Starry Night} image from Section~\ref{sec:representingdata} is from the Google Art Project.  The Apollo Guidance Computer image in Section~\ref{sec:growthofcomputing} was released by NASA and is in the public domain.  The traffic light in Section~\ref{sec:surfaceforms} is from iStockPhoto, and the rotary traffic signal is from the Wikimedia Commons.   The picture of Grace Hopper in Chapter~\ref{ch:programming} is from the Computer History Museum.  The playing card images in Chapter~\ref{ch:problems} are from iStockPhoto.  The images of Gauss, Heron, and Grace Hopper's bug are in the public domain.  The Dilbert comic in Chapter~\ref{ch:problems} is licensed from United Feature Syndicate, Inc.  The Pascal's triangle image in Excursion~\ref{excur:pascal} is from Wikipedia and is in the public domain.  The image of Ada Lovelace in Chapter~\ref{ch:machines} is from the Wikimedia Commons, of a painting by Margaret Carpenter.  The odomoter image in Chapter~\ref{ch:cost} is from iStockPhoto, as is the image of the frustrated student.  The Python snake charmer in Section~\ref{sec:python} is from iStockPhoto.  The Dynabook images at the end of Chapter~\ref{ch:objects} are from Alan Kay's paper.  The xkcd comic at the end of Chapter~\ref{ch:interpreters} is used under the creative commons license generously provided by Randall Munroe. 

%\addcontentsline{toc}{chapter}{Preface}
\include{ch0-preface}

\mainmatter

\pagestyle{fancy}
\fancyhead{}
\fancyhead[RE]{\nouppercase{\bfseries \rightmark}} 
\fancyhead[LO]{\nouppercase{\bfseries \leftmark}} 
\fancyhead[LE,RO]{\thepage}

%\fancyhead[RE]{\iffloatpage{}{\nouppercase{\bfseries \rightmark}}} 
%\fancyhead[LO]{\iffloatpage{}{\nouppercase{\bfseries \leftmark}}} 
%\fancyhead[LE,RO]{\iffloatpage{}{\thepage}}
\fancyfoot{}
\renewcommand{\headrulewidth}{0.4pt}
%\renewcommand{\headrulewidth}{\iffloatpage{0pt}{0.4pt}}
% http://www.ctan.org/tex-archive/macros/latex/contrib/fancyhdr/fancyhdr.pdf

\fancypagestyle{plain}{
  \fancyhf{} 
 % \fancyfoot[C]{\fbox{\footnotesize David Evans, \emph{Computing: Explorations in Language, Logic, and Machines}, \today}}
  \renewcommand{\headrulewidth}{0pt}
  \renewcommand{\footrulewidth}{0pt}
}

%%%! after ch1, but it gets put in the wrong place!
\addtocontents{toc}{\protect\vspace*{2ex}\par}
\addtocontents{toc}{\protect\mbox{\bold{Part I: Defining Procedures}}\protect\par}
\addtocontents{toc}{\protect\vspace*{0ex}\par}

%\begin{comment}

\include{ch1-intro}
%\begin{comment}
%\addtocontents{toc}{{\bf Part I: Defining Procedures}

%\addtocontents{toc}{\contentsline {part}{I\hspace {1em}Defining Procedures}{}{part.1}}

%%\part{Defining Procedures}
\include{ch2-language}
\include{ch3-programming}
\include{ch4-problems}  

%%%! after ch5 
\addtocontents{toc}{\protect\vspace*{2ex}\par}
\addtocontents{toc}{\protect\mbox{\bold{Part II: Analyzing Procedures}}\protect\par}
\addtocontents{toc}{\protect\vspace*{0ex}\par}

\include{ch5-data}

%\addtocontents{toc}{ \hskip -1.5em \bold{Part I: Defining Procedures} \protect \linebreak }
%%%\addtocontents{toc}{\contentsline {part}{II\hspace {1em}Analyzing Procedures}{}{part.2}}


%%\part{Analyzing Procedures}

\include{ch6-machines}
\include{ch7-cost} 

%%! this moves!
\addtocontents{toc}{\protect\vspace*{2ex}\par}
\addtocontents{toc}{\protect\mbox{\bold{Part III: Improving Expressiveness}}\protect\par}
\addtocontents{toc}{\protect\vspace*{0ex}\par}

\include{ch8-searching} 

%%%\addtocontents{toc}{\contentsline {part}{III\hspace {1em}Improving Expressiveness}{}{part.3}}
%\part{Improving Expressiveness}
\include{ch9-mutation} 
\include{ch10-objects} 

%%! this moves! should be after ch11
\addtocontents{toc}{\protect\vspace*{2ex}\par}
\addtocontents{toc}{\protect\mbox{\bold{Part IV: The Limits of Computing}}\protect\par}
\addtocontents{toc}{\protect\vspace*{0ex}\par}

\include{ch11-interpreters}
\include{ch12-computability} 

%% These chapters are planned by not written yet
%\include{ch13-intractability} 
%\include{ch14-models}

%\part{Programming the Web}
%
%\include{ch15-networks}
%\include{ch16-web}
%\include{ch17-webapps}
%\include{ch18-distributed}

\pagestyle{plain}
\cleardoublepage
\phantomsection

\addcontentsline{toc}{chapter}{Indexes}

\printindex{general}{Index}
\printindex{people}{People}
\backmatter

%\end{comment}

\end{document}

